<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title> - ivychapel.ink</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="" />
<meta property="og:description" content="(draft) Notes on security architecture: Lift &amp; Shift #blog
What you shift with your lift and shift? When companies lift and shift their infrastructures into cloud, or just migrate existing solutions from one platform to another, there is one thing that inevitably migrates with all the code and assets:
Security assumptions.
Security assumptions that drove the design choices in the first place that required do a number of security controls, processes and pieces of code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ivychapel.ink/posts/draft-notes-on-security-architecture-lift-shift/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="(draft) Notes on security architecture: Lift &amp; Shift #blog
What you shift with your lift and shift? When companies lift and shift their infrastructures into cloud, or just migrate existing solutions from one platform to another, there is one thing that inevitably migrates with all the code and assets:
Security assumptions.
Security assumptions that drove the design choices in the first place that required do a number of security controls, processes and pieces of code."/>
<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" /><script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<script type="text/javascript">
	  var _paq = window._paq || [];
	   
	  _paq.push(['trackPageView']);
	  _paq.push(['enableLinkTracking']);
	  (function() {
	    var u="//pwk.cossacklabs.com/";
	    _paq.push(['setTrackerUrl', u+'matomo.php']);
	    _paq.push(['setSiteId', '6']);
	    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
	    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
	  })();
	</script>
	
	<script src="/js/main.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<h1 class="site-title">ivychapel.ink</h1>
	<div class="site-description"><ul class="flat">
			
			<li>
				<strong style="font-weight:300">~/</strong><a href="/">home</a>
			</li>
			
			<li>
				<strong style="font-weight:300">~/</strong><a href="/posts">posts</a>
			</li>
			
			<li>
				<strong style="font-weight:300">~/</strong><a href="/about">about</a>
			</li>
			
		</ul>
		<nav class="nav social">
			<ul class="flat"><a href="https://twitter.com/9gunpi" title="Twitter"><i data-feather="twitter"></i></a><a href="https://www.linkedin.com/in/eugene-pilyankevich-59a31655" title="LinkedIn"><i data-feather="linkedin"></i></a></ul>
		</nav>
	</div>

</div>


		<div class="post-header">
			<h1 class="title"></h1>
			<div class="meta">Jan 1, 0001</div>
		</div>

		<div class="markdown">
			

<h1 id="draft-notes-on-security-architecture-lift-shift">(draft) Notes on security architecture: Lift &amp; Shift</h1>

<p>#blog</p>

<h2 id="what-you-shift-with-your-lift-and-shift">What you shift with your lift and shift?</h2>

<p>When companies lift and shift their infrastructures into cloud, or just migrate existing solutions from one platform to another, there is one thing that inevitably migrates with all the code and assets:</p>

<p>Security assumptions.</p>

<p>Security assumptions that drove the design choices in the first place that required do a number of security controls, processes and pieces of code. Security assumptions that affect the resource that could’ve benefit a lot from cloud migration: security team’s time and priorities.</p>

<p>Most of the analysis on Lift &amp; Shift focuses on cost changes, CAPEX vs OPEX change proportion and operational risks. Experienced people look into the staffing / hiring risks as well - ops who can re-engineer to cloud-native and maintain cloud-native apps are expensive and hard to find.</p>

<p>Security is considered later somewhere maybe perhaps - “get it to work first” mentality still prevails in decision-making.  Even if security gets a thought, it gets attention too late - because in lift and shift scenarios, there are security assumptions we should throw away when lifting and replace them with new ones when shifting.</p>

<p>It’s always cheaper to maintain status quo, and</p>

<p><strong>Cloud is just someone else’s computer</strong>:</p>

<p>There’s a sentiment for treating modern cloud as “someone else’s computer”, which is perfectly valid point. You’d like to properly treat the risk of someone else’s computer mistreating your data and not being compliant to your security approach.</p>

<p>Yet, the way it happens makes the cloud an impediment, rather than a benefit, security-wise.</p>

<p><strong>I don’t control the supply chain with higher-order services</strong>:</p>

<p>Well, this one is perfectly legitimate concern. Cloud vendor’s supply chain to run custom auto balancing PostgreSQL service can be very, very, very tricky, use hundreds of open-source components underneath you’re not aware of.</p>

<p>But it’s only valid as a discussion argument, because:
* Even to provide you with compute power, there are a lot of open-source and closed-sourced components involved you’re not aware of and you’re not aware how well the cloud provider invested time to secure them.
* You’re losing a bit of security posture by trusting 3rd party supply chain only in one case - when yours previously was 100% clean. Did you vet each line of code that runs in your production? Did you at least have the processes to vet, monitor, replace components, justify their business needs before poisoning the code? Then yes, you’re losing something and it’s a point of reflection.</p>

<p>But in my experience, most organizations don’t lose anything here.</p>

<p><strong>I can just rent computing power, that’s enough</strong>:</p>

<p>You push your data to someone else’s computer and treat it as your own in terms of system’s design.</p>

<p>You don’t trust the cloud (or never though about that), so you keep on doing the patching work yourself, building your own monitoring on top of the same compute, building your own logging, etc.</p>

<p>There is a typical argument of “how likely are you to misconfigure typical service” vs “how likely the cloud vendor is to misconfigure it for everyone?”. Are you sure that your limited security budget is worth maintaining services and patching them, spreading you thin between L2-L7 networking when most of it is cloud vendor’s responsibility?</p>

<p><strong>It’s convenient to repeat high-level designs</strong>:</p>

<p>It is, indeed, but it opens up new opportunities for security failure. Running test_dev_staging environments all the time, running boatload of “don’t touch this experimental VM where we really don’t follow security practices” within the same logical domain as production applications and then firewalling them yourself…</p>

<p>Aside from just increasing complexity and increasing the amount of general mess, you also increase overhead on maintaining these - simply because you don’t provision resources dynamically and use cloud-native ways to compartment various risk models.</p>

<p><strong>Attack vectors are the same</strong></p>

<p>Whether you’re renting compute or you’re renting higher-order cloud features, real attack vectors are the same - credentials to access and manage the infrastructure.</p>

<h2 id="refocusing-is-key">Refocusing is key</h2>

<p>Sometimes, cloud migration is only about the cost and predictability of OPEX, and the way cloud providers price their higher-order services makes L&amp;S still a viable option.</p>

<p>But quite often, when your security budget is reasonable as well as your cloud infra one, you might get better ROI not repeating other people’s work - but focusing on:</p>

<ul>
<li>Properly securing your unique applications and doing all the things you’ve had an excuse not to do for ages because firewalls, patching, versions, accesses, key distribution, etc.</li>
<li>Investing into IaaC, deterministic builds: it’s as much a security concern as it is helpful to get modern cloud operations right.</li>
<li>Maintaining proper risk/threat model instead of chasing CVEs.</li>
<li>… and, most importantly, cooperating with developers and regular ops to decrease complexity and general attack surface of your thing.</li>
</ul>

<p>Because, I have a strong conviction that this is what matters more during the next breach.</p>

<blockquote>
<p><strong>Whoa, sudden twist</strong>: over years, building secure services and platforms, helping various customers, lately supervising design of [[<a href="https://www.cossacklabs.com/|Cossack">https://www.cossacklabs.com/|Cossack</a> Labs products and solutions]], I had a number of typical observations in terms of high-level security design. They  seemed completely obvious to me and many colleagues, sometimes quite contrarian, but never genuinely new. Having referred to these ideas as parts of my conference talks, thinking I’m stating the bloody obvious, I’ve realized that people rarely think about it this way, and I was asked to scribble notes on these observations somehow. So here it comes, a helpful direction for this blog. All of this has been better thought and said before me, all of it is just a hint of “how things should be” and mental exercises, rather than absolute truths, but if repeating these points helps someone - I don’t mind.</p>
</blockquote>



			
			<hr>
			Other posts:<br>
			<br>

			→ <a href="https://ivychapel.ink/posts/on-keeping-secrets-in-comfort/">On keeping secrets in comfort</a> 

			
		</div>


	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>You have reached the end of this page, so why don't you head back <a href="/">home</a></div>
	</nav>
</div>

<script>feather.replace()</script>
</body>
</html>
